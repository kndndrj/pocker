[unix_http_server]
file = dev/shm/supervisor.sock
chmod = 0777
chown= nobody:nogroup
username = mail
password = mail

[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

[supervisord]
nodaemon=true
user=root
logfile = /var/log/supervisor/supervisord.log
pidfile = /var/run/supervisord.pid

[supervisorctl]
serverurl = unix:///dev/shm/supervisor.sock
username = mail
password = mail

#
# Programs
#

[program:postfix]
startsecs=0
stopwaitsecs=55
autorestart=true
stdout_logfile=/var/log/supervisor/%(program_name)s.log
stderr_logfile=/var/log/supervisor/%(program_name)s.log
command=/usr/local/bin/postfix.sh

[program:dovecot]
startsecs=0
stopwaitsecs=55
autorestart=true
stdout_logfile=/var/log/supervisor/%(program_name)s.log
stderr_logfile=/var/log/supervisor/%(program_name)s.log
command=/usr/sbin/dovecot -F -c /etc/dovecot/dovecot.conf

[program:opendkim]
startsecs=0
stopwaitsecs=55
autorestart=true
stdout_logfile=/var/log/supervisor/%(program_name)s.log
stderr_logfile=/var/log/supervisor/%(program_name)s.log
command=/usr/sbin/opendkim -f

[program:spamassassin]
startsecs=0
stopwaitsecs=55
autorestart=true
stdout_logfile=/var/log/supervisor/%(program_name)s.log
stderr_logfile=/var/log/supervisor/%(program_name)s.log
command=/usr/sbin/spamd --create-prefs --max-children 5 --helper-home-dir

[program:spamass-milter]
startsecs=0
stopwaitsecs=55
autorestart=true
stdout_logfile=/var/log/supervisor/%(program_name)s.log
stderr_logfile=/var/log/supervisor/%(program_name)s.log
command=/usr/local/bin/spamass-milter.sh
#
# Logging
#

[program:rsyslog]
startsecs=0
stopwaitsecs=55
autorestart=true
stdout_logfile=/var/log/supervisor/%(program_name)s.log
stderr_logfile=/var/log/supervisor/%(program_name)s.log
command=/usr/sbin/rsyslogd -n

# vim:ft=conf
